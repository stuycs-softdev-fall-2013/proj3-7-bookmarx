{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block head %}
  {{ super() }}
  <style>
    .sortable { list-style-type: none; margin: 0; padding: 0; width: 30%;
                height: 20px; }
    .sortable li { margin: 0 3px 3px 3px; padding-left: 1.5em; font-size: 1.1em; height: 25px; }
    .sortable li span { position: absolute; margin-left: -1.3em; }
  </style>
  <script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}

{% block content %}
  <div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-3"><button type="button" class="btn btn-warning btn-xs">Your Tags</button></div>
    <div class="col-md-3"><button type="button" class="btn btn-warning btn-xs">Followed Tags</button></div>
    <div class="col-md-3"><button type="button" class="btn btn-warning btn-xs">The People's Tags</button></div>
  </div>
  <br></br>
  <button id="toggle-bookmark-form" class="btn btn-success btn-xs">Add Bookmark</button>
  <form id="bookmark-form" hidden=true>
    <input class="bookmark-form-input" placeholder="Title"></input>
    <br>
    <input class="bookmark-form-input" placeholder="Link"></input>
    <br>
    <a id="make-bookmark" class="btn btn-success btn-xs">Create</a>
  <br></br>
  </form>
  <div class="tag well" style="height: {{ 85 + 28 * d['user'].untagged|count }}px;">
    <h3>Untagged</h3>
    <ul class="sortable untagged">
      {% for bookmark in d['user'].untagged %}
        <li class='ui-state-default'>
          <span class="bookmark-id">{{ bookmark[0] }}</span>
          <a href="{{ bookmark[1] }}">
            {{ bookmark[2] }}
         </a>
          <a href="#" class="remove-bookmark glyphicon glyphicon-remove-circle"></a>
        </li>
      {% endfor %}
    </ul>
  </div>
  {% for tag in d['user'].tags %}
  <div class="tag well" style="height: {{ 85 + 28 * tag.bookmarks|count }}px;">
    <h3>{{ tag.name }}</h3>
    <ul id="sortable">
      {% for bookmark in tag.bookmarks %}
        <li class='ui-state-default'>
          <a href="{{ bookmark[1] }}">
            {{ bookmark[2] }}
          </a>
          <a href="#" class="remove-bookmark glyphicon glyphicon-remove-circle"></a>
        </li>
      {% endfor %}
    </ul>
    <button class="btn btn-danger btn-xs">Delete tag</button>
  </div>
  {% endfor %}
{% endblock %}
